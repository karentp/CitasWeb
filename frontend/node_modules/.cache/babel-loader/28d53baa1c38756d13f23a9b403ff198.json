{"ast":null,"code":"var _jsxFileName = \"/Users/karentovar/Documents/SCYTO/frontend/src/pages/User/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Paper, makeStyles } from '@material-ui/core';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport CircularStatic from '../../components/CircularStatic';\nimport { useForm, Form } from '../../components/useForm';\nimport axios from 'axios';\nimport ImageComponent from '../../components/ImageComponent';\nimport { Grid } from '@material-ui/core';\nimport Controls from \"../../components/controls/Controls\";\nimport AlertMessage from '../../components/AlertMessage';\nimport InfoIcon from '@material-ui/icons/Info';\nimport PageHeader from \"../../components/PageHeader\";\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport MailOutlineIcon from '@mui/icons-material/MailOutline';\nimport WorkIcon from '@mui/icons-material/Work';\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\nimport Header from \"../../components/Header\";\nimport SideMenu from \"../../components/SideMenu\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  programholder: {\n    height: 40,\n    textAlign: 'center'\n  },\n  button: {\n    background: '#4287f5',\n    color: '#FFFFFF',\n    justifyContent: 'center'\n  },\n  paper: {\n    width: '100%',\n    height: 'auto',\n    backgroundColor: 'white',\n    paddingTop: \"25px\"\n  },\n  pageContent: {\n    margin: '50px 0 0 0',\n    width: '100%',\n    padding: theme.spacing(3)\n  },\n  pageContent2: {\n    margin: '50px 0 0 50px',\n    width: '30%'\n  },\n  right: {\n    display: \"inline-flex\",\n    flex: \"row\",\n    width: '90%'\n  },\n  gridContainer: {\n    marginBottom: '40px'\n  }\n}));\nconst initialValues = {\n  username: '',\n  email: '',\n  name: '',\n  lastname: '',\n  phone: '',\n  roles: [],\n  type: '',\n  image: '',\n  details: ''\n};\nexport default function Profile() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const uid = localStorage.getItem(\"uid\");\n  const isUser = uid === id ? true : false;\n  const classes = useStyles();\n  const [loading, setLoading] = React.useState(false);\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState('');\n  const [progress, setProgress] = useState(0);\n  const [edit, setEdit] = useState(false);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n    },\n    onUploadProgress: data => {\n      //Set the progress value to show the progress bar\n      setProgress(Math.round(100 * data.loaded / data.total));\n    }\n  };\n\n  const validate = function () {\n    let fieldValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : values;\n    let temp = { ...errors\n    };\n    var pattern = new RegExp(/^[0-9\\b]+$/);\n\n    if ('phone' in fieldValues) {\n      //temp.phone = fieldValues.phone.length === 8 ? \"\": \"El número debe ser de 8 dígitos\"            \n      if (fieldValues.phone) temp.phone = !pattern.test(fieldValues.phone) ? \"Por favor ingrese solo números\" : \"\";\n    }\n\n    setErrors({ ...temp\n    });\n    if (fieldValues === values) return Object.values(temp).every(x => x === \"\");\n  };\n\n  useEffect(async () => {\n    let unmounted = false;\n    await getUser();\n    return () => {\n      unmounted = true;\n    };\n  }, []);\n\n  const getUser = async () => {\n    setLoading(true);\n\n    try {\n      let response = await axios.get(`${process.env.REACT_APP_API_URL}/api/private/users/${id}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n        },\n        onDownloadProgress: data => {\n          //Set the progress value to show the progress bar                    \n          setProgress(Math.round(100 * data.loaded / data.total));\n        }\n      });\n      setValues(response.data.user);\n      setLoading(false);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoading(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange,\n    resetForm\n  } = useForm(initialValues, true, validate);\n\n  const handleChange = event => {\n    setEdit(event.target.value);\n  };\n\n  const confirmPost = async () => {\n    localStorage.setItem(\"image\", values.image);\n    setOpen(true);\n    setLoading(false);\n    setTimeout(function () {\n      setOpen(false);\n    }, 4000);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (validate()) {\n      setLoading(true);\n\n      try {\n        await axios.patch(`${process.env.REACT_APP_API_URL}/api/private/users/${id}`, values, config).then(confirmPost);\n      } catch (error) {\n        setLoading(false);\n        setTimeout(() => {\n          setTimeout(() => {\n            setError(\"\");\n          }, 2000);\n        }, 5000);\n        return setError(\"Authentication failed!\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      image: values.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SideMenu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CircularStatic, {\n      progress: progress,\n      hidden: !loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PageHeader, {\n      title: \"Informaci\\xF3n detallada de un usuario\",\n      subTitle: \"Puedes ver y modificar algunos campos\",\n      icon: /*#__PURE__*/_jsxDEV(InfoIcon, {\n        fontSize: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      className: classes.right,\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.pageContent,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(AlertMessage, {\n            errorMessage: error,\n            successMessage: \"Se ha actualizado el usuario!\",\n            openMessage: open\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            hidden: !isUser,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              style: {\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(Controls.Checkbox, {\n                name: \"edit\",\n                label: \"Editar usuario\",\n                value: edit,\n                style: {\n                  alignItems: \"center\"\n                },\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            style: {\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              className: classes.gridContainer,\n              children: /*#__PURE__*/_jsxDEV(Controls.Input, {\n                name: \"name\",\n                label: \"Nombre\",\n                value: values.name,\n                onChange: handleInputChange,\n                error: errors.name,\n                disabled: !edit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              className: classes.gridContainer,\n              children: /*#__PURE__*/_jsxDEV(Controls.Input, {\n                label: \"Apellido\",\n                name: \"lastname\",\n                value: values.lastname,\n                onChange: handleInputChange,\n                error: errors.lastname,\n                disabled: !edit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              className: classes.gridContainer,\n              children: /*#__PURE__*/_jsxDEV(Controls.Input, {\n                name: \"phone\",\n                label: \"N\\xFAmero\",\n                value: values.phone,\n                onChange: handleInputChange,\n                error: errors.phone,\n                disabled: !edit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              className: classes.gridContainer,\n              children: /*#__PURE__*/_jsxDEV(Controls.Input, {\n                name: \"details\",\n                label: \"Direcci\\xF3n\",\n                value: values.details,\n                onChange: handleInputChange,\n                error: errors.details,\n                disabled: !edit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              style: {\n                marginTop: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                hidden: !edit,\n                children: [/*#__PURE__*/_jsxDEV(Controls.Button, {\n                  type: \"submit\",\n                  text: \"Guardar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Controls.Button, {\n                  text: \"Limpiar\",\n                  color: \"inherit\",\n                  onClick: resetForm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.pageContent2,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          elevation: 3,\n          children: [/*#__PURE__*/_jsxDEV(ImageComponent, {\n            initialValues: values,\n            onChange: handleInputChange,\n            profile: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            sx: {\n              width: '100%',\n              maxWidth: 360,\n              bgcolor: 'background.paper'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  style: {\n                    backgroundColor: \"green\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(WorkIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Id\",\n                secondary: values ? values._id : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  style: {\n                    backgroundColor: \"green\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(MailOutlineIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Email\",\n                secondary: values ? values.email : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  style: {\n                    backgroundColor: \"green\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(PeopleAltIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: \"Usuario\",\n                secondary: values ? values.username : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"NoDhhyz604iPgwBdImsrQebFQPo=\", false, function () {\n  return [useParams, useStyles, useForm];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/karentovar/Documents/SCYTO/frontend/src/pages/User/Profile.js"],"names":["React","Paper","makeStyles","useState","useEffect","useParams","CircularStatic","useForm","Form","axios","ImageComponent","Grid","Controls","AlertMessage","InfoIcon","PageHeader","List","ListItem","ListItemText","ListItemAvatar","Avatar","MailOutlineIcon","WorkIcon","PeopleAltIcon","Header","SideMenu","useStyles","theme","programholder","height","textAlign","button","background","color","justifyContent","paper","width","backgroundColor","paddingTop","pageContent","margin","padding","spacing","pageContent2","right","display","flex","gridContainer","marginBottom","initialValues","username","email","name","lastname","phone","roles","type","image","details","Profile","id","uid","localStorage","getItem","isUser","classes","loading","setLoading","open","setOpen","error","setError","progress","setProgress","edit","setEdit","config","headers","Authorization","onUploadProgress","data","Math","round","loaded","total","validate","fieldValues","values","temp","errors","pattern","RegExp","test","setErrors","Object","every","x","unmounted","getUser","response","get","process","env","REACT_APP_API_URL","onDownloadProgress","setValues","user","setTimeout","handleInputChange","resetForm","handleChange","event","target","value","confirmPost","setItem","handleSubmit","e","preventDefault","patch","then","alignItems","marginTop","maxWidth","bgcolor","_id"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Paper, makeStyles } from '@material-ui/core'\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport CircularStatic from '../../components/CircularStatic'\r\nimport { useForm, Form } from '../../components/useForm';\r\nimport axios from 'axios';\r\nimport ImageComponent from '../../components/ImageComponent';\r\nimport { Grid } from '@material-ui/core';\r\nimport Controls from \"../../components/controls/Controls\";\r\nimport AlertMessage from '../../components/AlertMessage';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport PageHeader from \"../../components/PageHeader\";\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport MailOutlineIcon from '@mui/icons-material/MailOutline';\r\nimport WorkIcon from '@mui/icons-material/Work';\r\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\r\nimport Header from \"../../components/Header\";\r\nimport SideMenu from \"../../components/SideMenu\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    programholder: {\r\n        height: 40,\r\n        textAlign: 'center'\r\n    },\r\n    button: {\r\n        background: '#4287f5',\r\n        color: '#FFFFFF',\r\n        justifyContent: 'center'\r\n    },\r\n    paper: {\r\n        width: '100%',\r\n        height: 'auto',\r\n        backgroundColor: 'white',\r\n        paddingTop: \"25px\"\r\n    },\r\n    pageContent: {\r\n        margin: '50px 0 0 0',\r\n        width: '100%',\r\n        padding: theme.spacing(3)\r\n    },\r\n    pageContent2: {\r\n        margin: '50px 0 0 50px',\r\n        width: '30%',\r\n    },\r\n    right: {\r\n        display: \"inline-flex\",\r\n        flex: \"row\",\r\n        width: '90%'\r\n    },\r\n    gridContainer: {\r\n        marginBottom: '40px'\r\n    }\r\n}))\r\n\r\nconst initialValues = {\r\n    username: '',\r\n    email: '',\r\n    name: '',\r\n    lastname: '',\r\n    phone: '',\r\n    roles: [],\r\n    type: '',\r\n    image:'',\r\n    details: ''\r\n\r\n}\r\n\r\nexport default function Profile() {\r\n    const { id } = useParams();\r\n    const uid = localStorage.getItem(\"uid\");\r\n    const isUser = uid===id ? true:false;\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = React.useState(false);\r\n    const [open, setOpen] = React.useState(false);\r\n    const [error, setError] = useState('');\r\n    const [progress, setProgress] = useState(0);\r\n    const [edit, setEdit] = useState(false);\r\n\r\n    const config = {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\r\n        }, onUploadProgress: (data) => {\r\n            //Set the progress value to show the progress bar\r\n            setProgress(Math.round((100 * data.loaded) / data.total));\r\n        },\r\n    };\r\n\r\n    const validate = (fieldValues = values) => {\r\n        let temp = { ...errors }\r\n        var pattern = new RegExp(/^[0-9\\b]+$/);\r\n        if ('phone' in fieldValues){\r\n            //temp.phone = fieldValues.phone.length === 8 ? \"\": \"El número debe ser de 8 dígitos\"            \r\n            if(fieldValues.phone)\r\n                temp.phone = !pattern.test(fieldValues.phone) ? \"Por favor ingrese solo números\": \"\";\r\n        }\r\n        setErrors({\r\n            ...temp\r\n        })\r\n\r\n        if (fieldValues === values)\r\n            return Object.values(temp).every(x => x === \"\")\r\n    }\r\n\r\n    useEffect(async () => {\r\n        let unmounted = false;\r\n        await getUser();\r\n        return () => { unmounted = true; };\r\n    }, []);\r\n\r\n\r\n    const getUser = async () => {\r\n        setLoading(true);\r\n        try {\r\n            let response = await axios.get(`${process.env.REACT_APP_API_URL}/api/private/users/${id}`, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\r\n                },\r\n                onDownloadProgress: (data) => {\r\n                    //Set the progress value to show the progress bar                    \r\n                    setProgress(Math.round((100 * data.loaded) / data.total));\r\n                },\r\n            });\r\n            setValues(response.data.user);\r\n            setLoading(false);\r\n        } catch (error) {\r\n            setTimeout(() => {\r\n                setOpen(false);\r\n                setTimeout(() => {\r\n                    setError(\"\");\r\n                }, 2000);\r\n\r\n            }, 5000);\r\n            setOpen(true);\r\n            setLoading(false);\r\n            return setError(\"Authentication failed!\");\r\n        }\r\n    }\r\n\r\n    const {\r\n        values,\r\n        setValues,\r\n        errors,\r\n        setErrors,\r\n        handleInputChange,\r\n        resetForm\r\n    } = useForm(initialValues, true, validate);\r\n\r\n    const handleChange = (event) => {\r\n        setEdit(event.target.value);\r\n      };\r\n\r\n    const confirmPost = async () => {\r\n        localStorage.setItem(\"image\", values.image);\r\n        setOpen(true);\r\n        setLoading(false);\r\n        setTimeout(function () {\r\n            setOpen(false);\r\n        }, 4000);\r\n    }  \r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        if (validate()) {\r\n            setLoading(true);\r\n            try {\r\n                await axios\r\n                    .patch(`${process.env.REACT_APP_API_URL}/api/private/users/${id}`, values, config)\r\n                    .then(confirmPost)\r\n\r\n            }\r\n\r\n            catch (error) {\r\n                setLoading(false);\r\n                setTimeout(() => {\r\n                    setTimeout(() => {\r\n                        setError(\"\");\r\n                    }, 2000);\r\n                }, 5000);\r\n                return setError(\"Authentication failed!\");\r\n            }\r\n\r\n        }        \r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header image = {values.image} />\r\n            <SideMenu />\r\n            <CircularStatic progress={progress} hidden={!loading} />\r\n            <PageHeader\r\n                title=\"Información detallada de un usuario\"\r\n                subTitle=\"Puedes ver y modificar algunos campos\"\r\n                icon={<InfoIcon fontSize=\"large\"\r\n                />}\r\n            />\r\n            <Grid item className={classes.right}>\r\n                <Paper className={classes.pageContent}>\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <AlertMessage errorMessage={error} successMessage={\"Se ha actualizado el usuario!\"} openMessage={open} />\r\n                        <div hidden={!isUser}>\r\n                            <Grid container\r\n                                direction=\"row\"\r\n                                justifyContent=\"center\"\r\n                                alignItems=\"center\"\r\n                                style={{ textAlign: 'center' }}>    \r\n                                <Controls.Checkbox\r\n                                        name=\"edit\"\r\n                                        label=\"Editar usuario\"\r\n                                        value={edit}\r\n                                        style={{alignItems: \"center\"}}\r\n                                        onChange={handleChange}                                    \r\n                                />\r\n                            </Grid>\r\n                        </div>\r\n                        <Grid container\r\n                            direction=\"row\"\r\n                            justifyContent=\"center\"\r\n                            alignItems=\"center\"\r\n                            style={{ textAlign: 'center' }}>\r\n                            <Grid item xs={12} className={classes.gridContainer}>\r\n                                <Controls.Input\r\n                                    name=\"name\"\r\n                                    label=\"Nombre\"\r\n                                    value={values.name}\r\n                                    onChange={handleInputChange}\r\n                                    error={errors.name}\r\n                                    disabled={!edit}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12} className={classes.gridContainer}>\r\n                                <Controls.Input\r\n                                    label=\"Apellido\"\r\n                                    name=\"lastname\"\r\n                                    value={values.lastname}\r\n                                    onChange={handleInputChange}\r\n                                    error={errors.lastname}\r\n                                    disabled={!edit}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classes.gridContainer}>\r\n                                <Controls.Input\r\n                                    name=\"phone\"\r\n                                    label=\"Número\"\r\n                                    value={values.phone}\r\n                                    onChange={handleInputChange}\r\n                                    error={errors.phone}\r\n                                    disabled={!edit}\r\n\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}  className={classes.gridContainer}>\r\n                                <Controls.Input\r\n                                    name=\"details\"\r\n                                    label=\"Dirección\"\r\n                                    value={values.details}\r\n                                    onChange={handleInputChange}\r\n                                    error={errors.details}\r\n                                    disabled={!edit}\r\n\r\n                                />\r\n                            </Grid>\r\n                            <Grid\r\n                                container\r\n                                direction=\"row\"\r\n                                justifyContent=\"center\"\r\n                                alignItems=\"center\"\r\n                                style={{ marginTop: '20px' }}\r\n                                \r\n                            >\r\n                                <div hidden={!edit}>\r\n                                    <Controls.Button\r\n                                        type=\"submit\"\r\n                                        text=\"Guardar\"\r\n                                    />\r\n\r\n                                    <Controls.Button\r\n                                        text=\"Limpiar\"\r\n                                        color=\"inherit\"\r\n                                        onClick={resetForm} />\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Form>\r\n                </Paper>\r\n                <div className={classes.pageContent2}>\r\n                    <Paper className={classes.paper} elevation={3}>\r\n                        <ImageComponent initialValues={values} onChange={handleInputChange} profile={true} />\r\n                        <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n                            <ListItem>\r\n                                <ListItemAvatar>\r\n                                    <Avatar style={{ backgroundColor: \"green\" }}>\r\n                                        <WorkIcon />\r\n                                    </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary=\"Id\" secondary={values ? values._id : \"\"} />\r\n\r\n                            </ListItem>\r\n                            <ListItem>\r\n                                <ListItemAvatar>\r\n                                    <Avatar style={{ backgroundColor: \"green\" }}>\r\n                                        <MailOutlineIcon />\r\n                                    </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary=\"Email\" secondary={values ? values.email : \"\"} />\r\n                            </ListItem>\r\n                            <ListItem>\r\n                                <ListItemAvatar>\r\n                                    <Avatar style={{ backgroundColor: \"green\" }}>\r\n                                        <PeopleAltIcon />\r\n                                    </Avatar>\r\n                                </ListItemAvatar>\r\n                                <ListItemText primary=\"Usuario\" secondary={values ? values.username : \"\"} />\r\n                            </ListItem>\r\n                        </List>\r\n                    </Paper>\r\n                </div>\r\n            </Grid>\r\n        </div>\r\n\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}