{"ast":null,"code":"var _jsxFileName = \"/Users/karentovar/Documents/WebCitas/frontend/src/pages/Predictor/ProgramSelector.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Table, TableHead, TableCell, Paper, TableRow, TableBody, Button, makeStyles, CssBaseline, Grid } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport axios from \"axios\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Fade from '@material-ui/core/Fade';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport Typography from '@material-ui/core/Typography';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  cardContainer: {\n    width: 800,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  media: {\n    height: 300\n  },\n  table: {\n    width: \"90%\",\n    margin: \"50px 0 0 0\"\n  },\n  thead: {\n    \"& > *\": {\n      fontSize: 20,\n      background: \"#8ade8f\",\n      color: \"#FFFFFF\"\n    }\n  },\n  row: {\n    \"& > *\": {\n      fontSize: 18\n    }\n  },\n  buttonheader: {\n    display: \"flex\"\n  },\n  programholder: {\n    height: 40,\n    textAlign: \"center\"\n  },\n  button: {\n    background: \"#4287f5\",\n    color: \"#FFFFFF\"\n  },\n  pageContent: {\n    width: \"90%\",\n    margin: \"50px 0 0 0\",\n    padding: theme.spacing(3)\n  },\n  center: {\n    display: \"flex\",\n    textAlign: \"center\"\n  },\n  horizmenu: {\n    display: \"inline-block\"\n  },\n  textLeft: {\n    marginLeft: \"0\",\n    paddingLeft: \"0\"\n  }\n}));\nexport default function ProgramSelector(_ref) {\n  _s();\n\n  let {\n    id,\n    setProgram,\n    setProgramName\n  } = _ref;\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [programsBio, setProgramsBio] = React.useState([]);\n  const [isProgramsBio, setIsProgramsBio] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleParentData = (pl, plName) => {\n    setProgram(pl);\n    setProgramName(plName);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  useEffect(() => {\n    let unmounted = false;\n    getProgramsBio();\n    return () => {\n      unmounted = true;\n    };\n  }, [id]);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`\n    }\n  };\n\n  const getProgramsBio = async () => {\n    try {\n      setLoading(true);\n      let response = await axios.get(`${process.env.REACT_APP_API_URL}/api/private/programproject/${id}`, config);\n      setProgramsBio(response.data.programs);\n      setLoading(false);\n      if (response.data.programs.length > 0) setIsProgramsBio(true);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoading(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        hidden: !isProgramsBio,\n        children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.programholder,\n          hidden: !loading,\n          children: [/*#__PURE__*/_jsxDEV(Fade, {\n            in: loading,\n            style: {\n              transitionDelay: \"0m\"\n            },\n            unmountOnExit: true,\n            children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.table,\n          children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              stickyHeader: true,\n              \"aria-label\": \"sticky table\",\n              className: classes.container,\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  className: classes.thead,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Nombre\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Objetivos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Definici\\xF3n principal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    className: classes.programholder,\n                    children: \"Acciones\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: programsBio.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(program => /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  className: classes.row,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: program.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: program.objetivesProgram\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: program.definitionProgram\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Grid, {\n                      container: true,\n                      direction: \"row\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Seleccionar\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"primary\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          onClick: () => handleParentData(program._id, program.name),\n                          children: /*#__PURE__*/_jsxDEV(CheckIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 198,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 192,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Informaci\\xF3n\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          className: classes.button,\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/program/show/${program._id}`,\n                          children: /*#__PURE__*/_jsxDEV(InfoIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 209,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 202,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 201,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                        title: \"Mostrar datos\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          color: \"inherit\",\n                          variant: \"contained\",\n                          style: {\n                            marginRight: 10\n                          },\n                          component: Link,\n                          to: `/data/show/${id}/${program._id}`,\n                          children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 213,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 25\n                  }, this)]\n                }, program.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [10, 25, 100],\n            component: \"div\",\n            count: programsBio.length,\n            rowsPerPage: rowsPerPage,\n            page: page,\n            onPageChange: handleChangePage,\n            onRowsPerPageChange: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.programholder,\n        hidden: isProgramsBio,\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          color: \"textSecondary\",\n          component: \"p\",\n          children: \"No hay nada qu\\xE9 mostrar en est\\xE1 secci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProgramSelector, \"r3WLENEs1EWvPHBz1RxR5c9vtYE=\", false, function () {\n  return [useStyles];\n});\n\n_c = ProgramSelector;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProgramSelector\");","map":{"version":3,"sources":["/Users/karentovar/Documents/WebCitas/frontend/src/pages/Predictor/ProgramSelector.js"],"names":["React","useState","useEffect","Table","TableHead","TableCell","Paper","TableRow","TableBody","Button","makeStyles","CssBaseline","Grid","Link","TableContainer","TablePagination","Tooltip","InfoIcon","CheckIcon","axios","CircularProgress","Fade","VisibilityIcon","Typography","useStyles","theme","cardContainer","width","justifyContent","alignItems","media","height","table","margin","thead","fontSize","background","color","row","buttonheader","display","programholder","textAlign","button","pageContent","padding","spacing","center","horizmenu","textLeft","marginLeft","paddingLeft","ProgramSelector","id","setProgram","setProgramName","classes","page","setPage","rowsPerPage","setRowsPerPage","programsBio","setProgramsBio","isProgramsBio","setIsProgramsBio","loading","setLoading","open","setOpen","error","setError","handleParentData","pl","plName","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","unmounted","getProgramsBio","config","headers","Authorization","localStorage","getItem","response","get","process","env","REACT_APP_API_URL","data","programs","length","setTimeout","root","transitionDelay","container","slice","map","program","name","objetivesProgram","definitionProgram","marginRight","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Table,\n  TableHead,\n  TableCell,\n  Paper,\n  TableRow,\n  TableBody,\n  Button,\n  makeStyles,\n  CssBaseline,\n  Grid,\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CheckIcon from \"@mui/icons-material/Check\";\nimport axios from \"axios\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Fade from '@material-ui/core/Fade';\nimport VisibilityIcon from '@mui/icons-material/Visibility';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  cardContainer: {\n    width: 800,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  media: {\n    height: 300,\n  },\n  table: {\n    width: \"90%\",\n    margin: \"50px 0 0 0\",\n  },\n  thead: {\n    \"& > *\": {\n      fontSize: 20,\n      background: \"#8ade8f\",\n      color: \"#FFFFFF\",\n    },\n  },\n  row: {\n    \"& > *\": {\n      fontSize: 18,\n    },\n  },\n  buttonheader: {\n    display: \"flex\",\n  },\n  programholder: {\n    height: 40,\n    textAlign: \"center\",\n  },\n  button: {\n    background: \"#4287f5\",\n    color: \"#FFFFFF\",\n  },\n  pageContent: {\n    width: \"90%\",\n    margin: \"50px 0 0 0\",\n    padding: theme.spacing(3),\n  },\n  center: {\n    display: \"flex\",\n    textAlign: \"center\",\n  },\n  horizmenu: {\n    display: \"inline-block\",\n  },\n  textLeft: {\n    marginLeft: \"0\",\n    paddingLeft: \"0\",\n  },\n}));\n\nexport default function ProgramSelector({id, setProgram, setProgramName}) {\n  const classes = useStyles();\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [programsBio, setProgramsBio] = React.useState([]);\n  const [isProgramsBio, setIsProgramsBio] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const [open, setOpen] = React.useState(false);\n  const [error, setError] = useState(\"\");\n\n  const handleParentData = (pl, plName) => {\n    setProgram(pl);\n    setProgramName(plName);\n  };\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n  \n  useEffect(() => {\n    let unmounted = false;\n    getProgramsBio();\n    return () => { unmounted = true; };\n  }, [id]);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"authToken\")}`,\n    },\n  };\n\n  const getProgramsBio = async () => {\n    try {\n      setLoading(true);\n      let response = await axios.get(\n        `${process.env.REACT_APP_API_URL}/api/private/programproject/${id}`,\n        config\n      );\n      setProgramsBio(response.data.programs);\n      setLoading(false);\n      if (response.data.programs.length > 0) setIsProgramsBio(true);\n    } catch (error) {\n      setTimeout(() => {\n        setOpen(false);\n        setTimeout(() => {\n          setError(\"\");\n        }, 2000);\n      }, 5000);\n      setOpen(true);\n      setLoading(false);\n      return setError(\"Authentication failed!\");\n    }\n  };\n\n\n  \n\n  return (\n    <div>\n      <div className={classes.root}>\n        <div hidden={!isProgramsBio}>\n          <CssBaseline />\n          <div className={classes.programholder} hidden={!loading}>\n            <Fade\n              in={loading}\n              style={{\n                transitionDelay: \"0m\",\n              }}\n              unmountOnExit\n            >\n              <CircularProgress />\n            </Fade>\n            <br />\n          </div>\n          <Paper className={classes.table}>\n            <TableContainer>\n              <Table\n                stickyHeader\n                aria-label=\"sticky table\"\n                className={classes.container}\n              >\n                <TableHead>\n                  <TableRow className={classes.thead}>\n                    <TableCell>Nombre</TableCell>\n                    <TableCell>Objetivos</TableCell>\n                    <TableCell>Definición principal</TableCell>\n                    <TableCell className={classes.programholder}>\n                      Acciones\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {programsBio\n                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                    .map((program) => (\n                      <TableRow hover className={classes.row} key={program.id}>\n                        <TableCell>{program.name}</TableCell>\n                        <TableCell>{program.objetivesProgram}</TableCell>\n                        <TableCell>{program.definitionProgram}</TableCell>\n                        <TableCell>\n                          <Grid\n                            container\n                            direction=\"row\"\n                            justifyContent=\"center\"\n                            alignItems=\"center\"\n                          >\n                              <Tooltip title=\"Seleccionar\">\n                              <Button\n                                color=\"primary\"\n                                variant=\"contained\"\n                                style={{ marginRight: 10 }}\n                                onClick={() => handleParentData(program._id, program.name)}\n                              >\n                                <CheckIcon />\n                              </Button>\n                            </Tooltip>\n                            <Tooltip title=\"Información\">\n                              <Button\n                                className={classes.button}\n                                variant=\"contained\"\n                                style={{ marginRight: 10 }}\n                                component={Link}\n                                to={`/program/show/${program._id}`}\n                              >\n                                <InfoIcon />\n                              </Button>\n                            </Tooltip>\n                            <Tooltip title=\"Mostrar datos\">\n                              <Button\n                                color=\"inherit\"\n                                variant=\"contained\"\n                                style={{ marginRight: 10 }}\n                                component={Link}\n                                to={`/data/show/${id}/${program._id}`}\n                              >\n                                <VisibilityIcon />\n                              </Button>\n                            </Tooltip>\n                            \n                          </Grid>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n            <TablePagination\n              rowsPerPageOptions={[10, 25, 100]}\n              component=\"div\"\n              count={programsBio.length}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              onPageChange={handleChangePage}\n              onRowsPerPageChange={handleChangeRowsPerPage}\n            />\n          </Paper>\n        </div>\n        <div className={classes.programholder} hidden={isProgramsBio}>\n          <br />\n          <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\n            No hay nada qué mostrar en está sección\n          </Typography>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}