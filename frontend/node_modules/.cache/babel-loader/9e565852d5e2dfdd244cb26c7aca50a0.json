{"ast":null,"code":"import e from \"papaparse\";\nimport r from \"react\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n\nvar o = function (e, r) {\n  return o = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (e, r) {\n    e.__proto__ = r;\n  } || function (e, r) {\n    for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o]);\n  }, o(e, r);\n};\n\nfunction t(e, r) {\n  if (\"function\" != typeof r && null !== r) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\n\n  function t() {\n    this.constructor = e;\n  }\n\n  o(e, r), e.prototype = null === r ? Object.create(r) : (t.prototype = r.prototype, new t());\n}\n\nfunction n(e, r) {\n  for (var o = 0, t = r.length, n = e.length; o < t; o++, n++) e[n] = r[o];\n\n  return e;\n}\n\nfunction i(e) {\n  var r = 1024,\n      o = 1048576,\n      t = 1073741824;\n\n  if (e < o) {\n    var n = Number((e / r).toFixed(0));\n    return n <= 0 ? e + \" B\" : n + \" KB\";\n  }\n\n  return e < t ? (e / o).toFixed(0) + \" MB\" : e < 1099511627776 ? (e / t).toFixed(0) + \" GB\" : \"\";\n}\n\nfunction l(e, r) {\n  var o = !1;\n  \"#\" == e[0] && (e = e.slice(1), o = !0);\n  var t = parseInt(e, 16),\n      n = (t >> 16) + r;\n  n > 255 ? n = 255 : n < 0 && (n = 0);\n  var i = (t >> 8 & 255) + r;\n  i > 255 ? i = 255 : i < 0 && (i = 0);\n  var l = (255 & t) + r;\n  return l > 255 ? l = 255 : l < 0 && (l = 0), (o ? \"#\" : \"\") + (l | i << 8 | n << 16).toString(16);\n}\n\nfunction a(e) {\n  return r.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"23\",\n    height: \"23\",\n    viewBox: \"0 0 512 512\"\n  }, r.createElement(\"path\", {\n    fill: e.color,\n    d: \"M504.1 256C504.1 119 393 7.9 256 7.9S7.9 119 7.9 256 119 504.1 256 504.1 504.1 393 504.1 256z\"\n  }), r.createElement(\"path\", {\n    fill: \"#FFF\",\n    d: \"M285 256l72.5-84.2c7.9-9.2 6.9-23-2.3-31-9.2-7.9-23-6.9-30.9 2.3L256 222.4l-68.2-79.2c-7.9-9.2-21.8-10.2-31-2.3-9.2 7.9-10.2 21.8-2.3 31L227 256l-72.5 84.2c-7.9 9.2-6.9 23 2.3 31 4.1 3.6 9.2 5.3 14.3 5.3 6.2 0 12.3-2.6 16.6-7.6l68.2-79.2 68.2 79.2c4.3 5 10.5 7.6 16.6 7.6 5.1 0 10.2-1.7 14.3-5.3 9.2-7.9 10.2-21.8 2.3-31L285 256z\"\n  }));\n}\n\nvar s = {\n  progressBar: {\n    borderRadius: 3,\n    boxShadow: \"inset 0 1px 3px rgba(0, 0, 0, .2)\",\n    bottom: 14,\n    position: \"absolute\",\n    width: \"80%\"\n  },\n  buttonProgressBar: {\n    position: \"inherit\",\n    width: \"100%\"\n  },\n  progressBarFill: {\n    backgroundColor: \"#659cef\",\n    borderRadius: 3,\n    height: 10,\n    transition: \"width 500ms ease-in-out\"\n  }\n},\n    d = function (e) {\n  function o() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return t(o, e), o.prototype.render = function () {\n    var e = this.props,\n        o = e.style,\n        t = e.progressBar,\n        n = e.displayProgressBarStatus,\n        i = e.isButtonProgressBar;\n    return r.createElement(\"div\", {\n      style: Object.assign({}, s.progressBar, i && s.buttonProgressBar)\n    }, r.createElement(\"span\", {\n      style: Object.assign({}, s.progressBarFill, o, {\n        width: \"\".concat(t, \"%\"),\n        display: n\n      })\n    }));\n  }, o;\n}(r.Component),\n    u = {\n  dropArea: {\n    alignItems: \"center\",\n    borderStyle: \"dashed\",\n    borderWidth: 2,\n    borderRadius: 20,\n    borderColor: \"#CCC\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    padding: 20\n  },\n  dropAreaDefaultBorderColor: {\n    borderColor: \"#CCC\"\n  },\n  inputFile: {\n    display: \"none\"\n  },\n  highlight: {\n    borderColor: \"#686868\"\n  },\n  unhighlight: {\n    borderColor: \"#CCC\"\n  },\n  dropFile: {\n    background: \"linear-gradient(to bottom, #EEE, #DDD)\",\n    borderRadius: 20,\n    display: \"block\",\n    height: 120,\n    width: 100,\n    paddingLeft: 10,\n    paddingRight: 10,\n    position: \"relative\",\n    zIndex: 10\n  },\n  column: {\n    alignItems: \"center\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\"\n  },\n  fileSizeInfo: {\n    backgroundColor: \"rgba(255, 255, 255, 0.4)\",\n    borderRadius: 3,\n    lineHeight: 1,\n    marginBottom: \"0.5em\",\n    padding: \"0 0.4em\"\n  },\n  fileNameInfo: {\n    backgroundColor: \"rgba(255, 255, 255, 0.4)\",\n    borderRadius: 3,\n    fontSize: 14,\n    lineHeight: 1,\n    padding: \"0 0.4em\"\n  },\n  defaultCursor: {\n    cursor: \"default\"\n  },\n  pointerCursor: {\n    cursor: \"pointer\"\n  },\n  dropFileRemoveButton: {\n    height: 23,\n    position: \"absolute\",\n    right: 6,\n    top: 6,\n    width: 23\n  }\n},\n    p = function (o) {\n  function s() {\n    var t,\n        s,\n        d,\n        p,\n        c,\n        v,\n        f,\n        g,\n        h,\n        m = o.apply(this, arguments) || this;\n    return m.inputFileRef = r.createRef(), m.dropAreaRef = r.createRef(), m.fileSizeInfoRef = r.createRef(), m.fileNameInfoRef = r.createRef(), m.REMOVE_ICON_COLOR = m.props.removeButtonColor || (null === (p = null === (d = null === (s = null === (t = m.props.style) || void 0 === t ? void 0 : t.dropArea) || void 0 === s ? void 0 : s.dropFile) || void 0 === d ? void 0 : d.removeButton) || void 0 === p ? void 0 : p.color) || (null === (f = null === (v = null === (c = m.props.style) || void 0 === c ? void 0 : c.dropFile) || void 0 === v ? void 0 : v.removeButton) || void 0 === f ? void 0 : f.color) || (null === (h = null === (g = m.props.style) || void 0 === g ? void 0 : g.removeButton) || void 0 === h ? void 0 : h.color) || \"#A01919\", m.REMOVE_ICON_COLOR_LIGHT = l(m.REMOVE_ICON_COLOR, 40), m.state = {\n      dropAreaCustom: {},\n      progressBar: 0,\n      displayProgressBarStatus: \"none\",\n      file: null,\n      timeout: null,\n      files: null,\n      removeIconColor: m.REMOVE_ICON_COLOR,\n      isCanceled: !1\n    }, m.componentDidUpdate = function (e) {\n      m.props.isReset !== e.isReset && m.removeFile();\n    }, m.componentDidMount = function () {\n      var e = m.dropAreaRef.current;\n\n      if (e) {\n        if ([\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach(function (r) {\n          e.addEventListener(r, m.preventDefaults, !1);\n        }), !m.props.noDrag) {\n          [\"dragenter\", \"dragover\"].forEach(function (r) {\n            e.addEventListener(r, m.highlight, !1);\n          }), e.addEventListener(\"dragleave\", m.unhighlight, !1), e.addEventListener(\"drop\", m.unhighlight, !1), e.addEventListener(\"drop\", m.visibleProgressBar, !1), e.addEventListener(\"drop\", m.handleDrop, !1);\n        }\n      }\n    }, m.componentWillUnmount = function () {\n      var e = m.dropAreaRef.current;\n\n      if ([\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach(function (r) {\n        e.removeEventListener(r, m.preventDefaults, !1);\n      }), !m.props.noDrag) {\n        [\"dragenter\", \"dragover\"].forEach(function (r) {\n          e.removeEventListener(r, m.highlight, !1);\n        }), e.removeEventListener(\"dragleave\", m.unhighlight, !1), e.removeEventListener(\"drop\", m.unhighlight, !1), e.removeEventListener(\"drop\", m.visibleProgressBar, !1), e.removeEventListener(\"drop\", m.handleDrop, !1);\n      }\n    }, m.preventDefaults = function (e) {\n      e.preventDefault(), e.stopPropagation();\n    }, m.highlight = function () {\n      var e,\n          r,\n          o,\n          t,\n          n = m.props.style;\n      m.setState({\n        dropAreaCustom: Object.assign({}, (null == n ? void 0 : n.dropAreaActive) ? (null == n ? void 0 : n.dropAreaActive.borderColor) ? null == n ? void 0 : n.dropAreaActive : Object.assign({}, null == n ? void 0 : n.dropAreaActive, u.highlight) : (null === (e = null == n ? void 0 : n.dropArea) || void 0 === e ? void 0 : e.dropAreaActive) ? (null === (r = null == n ? void 0 : n.dropArea) || void 0 === r ? void 0 : r.dropAreaActive.borderColor) ? null === (o = null == n ? void 0 : n.dropArea) || void 0 === o ? void 0 : o.dropAreaActive : Object.assign({}, null === (t = null == n ? void 0 : n.dropArea) || void 0 === t ? void 0 : t.dropAreaActive, u.highlight) : u.highlight)\n      }), m.setState({\n        progressBar: 0\n      });\n    }, m.unhighlight = function () {\n      var e, r;\n      m.setState({\n        dropAreaCustom: Object.assign({}, (null === (r = null === (e = m.props.style) || void 0 === e ? void 0 : e.dropArea) || void 0 === r ? void 0 : r.borderColor) ? {} : u.dropAreaDefaultBorderColor)\n      });\n    }, m.visibleProgressBar = function () {\n      m.props.noProgressBar || m.setState({\n        displayProgressBarStatus: \"block\"\n      });\n    }, m.handleDrop = function (e) {\n      var r = null,\n          o = !1;\n      void 0 === e.files ? r = e.dataTransfer.files : r = e.files;\n      0 === r.length && (r = m.state.files, o = !0), m.setState({\n        files: r,\n        isCanceled: o\n      }, function () {\n        m.handleFiles();\n      });\n    }, m.handleFiles = function () {\n      m.setState({\n        progressBar: 0\n      });\n      n([], m.state.files).forEach(m.uploadFile);\n    }, m.uploadFile = function (r) {\n      m.displayFileInfo(r), m.setState({\n        file: r\n      });\n      var o = m.props,\n          t = o.onDrop,\n          n = o.onFileLoad,\n          i = o.onError,\n          l = o.config,\n          a = void 0 === l ? {} : l,\n          s = new window.FileReader(),\n          d = {},\n          u = r.size,\n          p = [],\n          c = 0;\n\n      if (t || n) {\n        var v = m;\n        d = Object.assign({\n          complete: (null == a ? void 0 : a.complete) || (null == a ? void 0 : a.step) ? a.complete : function () {\n            !t && n ? n(p, r) : t && !n && t(p, r);\n          },\n          step: (null == a ? void 0 : a.step) ? a.step : function (e) {\n            if (p.push(e), a && a.preview) c = Math.round(p.length / a.preview * 100), v.setState({\n              progressBar: c\n            }), p.length === a.preview && (!t && n ? n(p, r) : t && !n && t(p, r));else {\n              var o = e.meta.cursor,\n                  i = Math.round(o / u * 100);\n              if (i === c) return;\n              c = i;\n            }\n            v.setState({\n              progressBar: c\n            });\n          }\n        }, d);\n      }\n\n      i && (d = Object.assign({\n        error: i\n      }, d)), a && (d = Object.assign({}, a, d)), s.onload = function (r) {\n        e.parse(r.target.result, d);\n      }, m.props.noProgressBar || (s.onloadend = function () {\n        clearTimeout(m.state.timeout), m.setState({\n          timeout: setTimeout(function () {\n            m.disableProgressBar();\n          }, 2e3)\n        });\n      }), s.readAsText(r, a.encoding || \"utf-8\");\n    }, m.displayFileInfo = function (e) {\n      m.childrenIsFunction() || (m.fileSizeInfoRef.current.innerHTML = i(e.size), m.fileNameInfoRef.current.innerHTML = e.name);\n    }, m.disableProgressBar = function () {\n      m.props.noProgressBar || m.setState({\n        displayProgressBarStatus: \"none\"\n      });\n    }, m.childrenIsFunction = function () {\n      return \"function\" == typeof m.props.children;\n    }, m.fileChange = function (e) {\n      var r = e.target;\n      m.props.noProgressBar ? m.handleDrop(r) : m.setState({\n        displayProgressBarStatus: \"block\"\n      }, function () {\n        m.handleDrop(r);\n      });\n    }, m.open = function (e) {\n      var r = m.state.displayProgressBarStatus;\n      e && \"none\" === r && (m.preventDefaults(e), m.inputFileRef.current.value = null, m.inputFileRef.current.click());\n    }, m.renderChildren = function () {\n      var e = m.props.children,\n          r = m.state,\n          o = r.file,\n          t = r.progressBar;\n      return m.childrenIsFunction() ? e({\n        file: o,\n        progressBar: t\n      }) : e;\n    }, m.handleRemoveFile = function (e) {\n      e && (e.stopPropagation(), m.removeFile());\n    }, m.removeFile = function () {\n      m.setState({\n        files: null,\n        file: null\n      });\n      var e = m.props.onRemoveFile;\n      e && e(null), m.inputFileRef.current.value = null;\n    }, m.changeRemoveIconColor = function (e) {\n      e && m.setState({\n        removeIconColor: e\n      });\n    }, m.renderDropFileRemoveButton = function () {\n      var e = m.props.addRemoveButton,\n          o = m.state,\n          t = o.removeIconColor,\n          n = o.displayProgressBarStatus;\n      return e && \"none\" === n ? r.createElement(\"div\", {\n        style: u.dropFileRemoveButton,\n        onClick: function (e) {\n          return m.handleRemoveFile(e);\n        },\n        onMouseOver: function () {\n          return m.changeRemoveIconColor(m.REMOVE_ICON_COLOR_LIGHT);\n        },\n        onMouseOut: function () {\n          return m.changeRemoveIconColor(m.REMOVE_ICON_COLOR);\n        }\n      }, r.createElement(a, {\n        color: t\n      })) : e ? r.createElement(\"div\", {\n        style: u.dropFileRemoveButton\n      }, r.createElement(a, {\n        color: m.REMOVE_ICON_COLOR\n      })) : null;\n    }, m;\n  }\n\n  return t(s, o), s.prototype.render = function () {\n    var e,\n        o,\n        t,\n        n,\n        i,\n        l,\n        a,\n        s,\n        p,\n        c,\n        v,\n        f,\n        g,\n        h = this,\n        m = this.props,\n        C = m.style,\n        B = m.noClick,\n        b = m.children,\n        E = m.noProgressBar,\n        R = m.progressBarColor,\n        y = m.accept,\n        O = this.state,\n        F = O.dropAreaCustom,\n        A = O.files,\n        S = O.isCanceled,\n        I = O.progressBar,\n        P = O.displayProgressBarStatus;\n    return r.createElement(r.Fragment, null, r.createElement(\"input\", {\n      type: \"file\",\n      accept: y || \"text/csv, .csv, application/vnd.ms-excel\",\n      ref: this.inputFileRef,\n      style: u.inputFile,\n      onChange: function (e) {\n        return h.fileChange(e);\n      }\n    }), this.childrenIsFunction() ? r.createElement(\"div\", {\n      ref: this.dropAreaRef\n    }, this.renderChildren(), A && A.length > 0 && !S && !E && r.createElement(d, {\n      style: Object.assign({}, R ? {\n        backgroundColor: R\n      } : {}, (null === (f = null === (v = null == C ? void 0 : C.dropArea) || void 0 === v ? void 0 : v.dropFile) || void 0 === f ? void 0 : f.progressBar) || (null === (g = null == C ? void 0 : C.dropFile) || void 0 === g ? void 0 : g.progressBar) || (null == C ? void 0 : C.progressBar)),\n      progressBar: I,\n      displayProgressBarStatus: P,\n      isButtonProgressBar: !0\n    })) : r.createElement(\"div\", {\n      ref: this.dropAreaRef,\n      style: Object.assign({}, u.dropArea, null == C ? void 0 : C.dropArea, F, void 0 !== B || \"block\" === P ? u.defaultCursor : u.pointerCursor),\n      onClick: function (e) {\n        B || h.open(e);\n      }\n    }, A && A.length > 0 ? r.createElement(\"div\", {\n      style: Object.assign({}, u.dropFile, u.column, (null === (e = null == C ? void 0 : C.dropArea) || void 0 === e ? void 0 : e.dropFile) || (null == C ? void 0 : C.dropFile))\n    }, this.renderDropFileRemoveButton(), r.createElement(\"div\", {\n      style: u.column\n    }, r.createElement(\"span\", {\n      style: Object.assign({}, u.fileSizeInfo, (null === (t = null === (o = null == C ? void 0 : C.dropArea) || void 0 === o ? void 0 : o.dropFile) || void 0 === t ? void 0 : t.fileSizeInfo) || (null === (n = null == C ? void 0 : C.dropArea) || void 0 === n ? void 0 : n.fileSizeInfo) || (null == C ? void 0 : C.fileSizeInfo)),\n      ref: this.fileSizeInfoRef\n    }), r.createElement(\"span\", {\n      style: Object.assign({}, u.fileNameInfo, (null === (l = null === (i = null == C ? void 0 : C.dropArea) || void 0 === i ? void 0 : i.dropFile) || void 0 === l ? void 0 : l.fileNameInfo) || (null === (a = null == C ? void 0 : C.dropFile) || void 0 === a ? void 0 : a.fileNameInfo) || (null == C ? void 0 : C.fileNameInfo)),\n      ref: this.fileNameInfoRef\n    })), A && A.length > 0 && !S && !E && r.createElement(d, {\n      style: Object.assign({}, R ? {\n        backgroundColor: R\n      } : {}, (null === (p = null === (s = null == C ? void 0 : C.dropArea) || void 0 === s ? void 0 : s.dropFile) || void 0 === p ? void 0 : p.progressBar) || (null === (c = null == C ? void 0 : C.dropFile) || void 0 === c ? void 0 : c.progressBar) || (null == C ? void 0 : C.progressBar)),\n      progressBar: I,\n      displayProgressBarStatus: P\n    })) : b));\n  }, s.defaultProps = {\n    isReset: !1\n  }, s;\n}(r.Component),\n    c = \"link\",\n    v = \"button\",\n    f = function (o) {\n  function n() {\n    var r = null !== o && o.apply(this, arguments) || this;\n    return r.download = function (r, o, t, n) {\n      var i = t ? \"\\ufeff\" : \"\",\n          l = null,\n          a = null;\n      \"function\" == typeof r && (r = r()), l = \"object\" == typeof r ? e.unparse(r, n) : r;\n      var s = new Blob([\"\".concat(i).concat(l)], {\n        type: \"text/csv;charset=utf-8;\"\n      }),\n          d = window.navigator;\n      a = d.msSaveBlob ? d.msSaveBlob(s, \"\".concat(o, \".csv\")) : window.URL.createObjectURL(s);\n      var u = document.createElement(\"a\");\n      u.href = a, u.setAttribute(\"download\", \"\".concat(o, \".csv\")), u.click(), u.remove();\n    }, r;\n  }\n\n  return t(n, o), n.prototype.render = function () {\n    var e = this,\n        o = this.props,\n        t = o.children,\n        n = o.data,\n        i = o.filename,\n        l = o.type,\n        a = o.className,\n        s = o.style,\n        d = o.bom,\n        u = void 0 !== d && d,\n        p = o.config,\n        c = void 0 === p ? {} : p;\n    return \"link\" === l ? r.createElement(\"a\", {\n      onClick: function () {\n        return e.download(n, i, u, c);\n      },\n      className: a,\n      style: s\n    }, t) : r.createElement(\"button\", {\n      onClick: function () {\n        return e.download(n, i, u, c);\n      },\n      className: a,\n      style: s\n    }, t);\n  }, n.defaultProps = {\n    type: \"link\"\n  }, n;\n}(r.Component);\n\nfunction g(r, o) {\n  return e.parse(r, o);\n}\n\nfunction h(r, o) {\n  e.parse(r, Object.assign({}, {\n    download: !0\n  }, o));\n}\n\nfunction m(r, o) {\n  return void 0 === o && (o = {}), e.unparse(r, o);\n}\n\nvar C = e.BAD_DELIMITERS,\n    B = e.RECORD_SEP,\n    b = e.UNIT_SEP,\n    E = e.WORKERS_SUPPORTED,\n    R = e.LocalChunkSize,\n    y = e.DefaultDelimiter;\nexport { C as BAD_DELIMITERS, v as BUTTON_TYPE, f as CSVDownloader, p as CSVReader, y as DefaultDelimiter, c as LINK_TYPE, R as LocalChunkSize, B as RECORD_SEP, b as UNIT_SEP, E as WORKERS_SUPPORTED, m as jsonToCSV, h as readRemoteFile, g as readString };","map":null,"metadata":{},"sourceType":"module"}